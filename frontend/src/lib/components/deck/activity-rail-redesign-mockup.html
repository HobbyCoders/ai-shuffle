<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Activity Rail Redesign - Casino Noir Edition v2</title>

  <!-- Fonts: Cinzel for display (art deco elegance), DM Sans for UI -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&display=swap" rel="stylesheet">

  <style>
    /* ===================================
       CASINO NOIR DESIGN SYSTEM
       v2: Dealer Button + Card Fan-Out
    =================================== */

    :root {
      /* Felt & Environment */
      --felt: oklch(0.12 0.03 145);
      --felt-highlight: oklch(0.15 0.035 145);
      --felt-deep: oklch(0.08 0.02 145);

      /* Gold Accent System */
      --gold: oklch(0.72 0.15 85);
      --gold-dim: oklch(0.58 0.12 85);
      --gold-bright: oklch(0.82 0.18 85);
      --gold-glow: oklch(0.72 0.15 85 / 0.3);
      --gold-glow-strong: oklch(0.72 0.15 85 / 0.5);

      /* Dealer Button Colors */
      --dealer-white: #f8f6f0;
      --dealer-cream: #e8e4d9;
      --dealer-shadow: #d4d0c5;
      --dealer-text: #1a1a1a;

      /* Playing Card Colors */
      --card-spade: #1e293b;
      --card-heart: #dc2626;
      --card-diamond: #f59e0b;
      --card-club: #059669;

      /* Activity Mode Colors - Neon Casino Style */
      --workspace-neon: #3b82f6;
      --studio-neon: #a855f7;
      --files-neon: #f59e0b;

      /* Neutrals */
      --foreground: oklch(0.95 0.01 260);
      --foreground-muted: oklch(0.65 0.01 260);
      --border: oklch(0.3 0.01 260 / 0.4);
      --border-subtle: oklch(0.25 0.01 260 / 0.25);

      /* Glass Morphism */
      --glass-dark: oklch(0.1 0.02 145 / 0.92);
      --glass-light: oklch(0.18 0.01 260 / 0.6);

      /* Menu Card */
      --menu-card-bg: oklch(0.14 0.015 260);
      --menu-card-border: oklch(0.25 0.01 260);

      /* Typography */
      --font-display: 'Cinzel', Georgia, serif;
      --font-sans: 'DM Sans', system-ui, sans-serif;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-sans);
      background: var(--felt);
      min-height: 100vh;
      display: flex;
      color: var(--foreground);
      overflow: hidden;
    }

    /* ===================================
       MAIN LAYOUT
    =================================== */

    .app-container {
      display: flex;
      width: 100%;
      height: 100vh;
    }

    /* ===================================
       ACTIVITY RAIL
    =================================== */

    .activity-rail {
      position: relative;
      width: 76px;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 16px 0;
      gap: 8px;

      background:
        linear-gradient(180deg,
          var(--felt-deep) 0%,
          var(--felt) 15%,
          var(--felt) 85%,
          var(--felt-deep) 100%
        );

      border-right: 1px solid var(--border-subtle);
      box-shadow:
        2px 0 20px rgba(0, 0, 0, 0.3),
        inset -1px 0 0 var(--border-subtle);
      z-index: 100;
    }

    .activity-rail::before {
      content: '';
      position: absolute;
      top: 12px;
      left: 50%;
      transform: translateX(-50%);
      width: 40px;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--gold-dim), transparent);
      opacity: 0.5;
    }

    .activity-rail::after {
      content: '';
      position: absolute;
      bottom: 12px;
      left: 50%;
      transform: translateX(-50%);
      width: 40px;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--gold-dim), transparent);
      opacity: 0.5;
    }

    /* ===================================
       DEALER BUTTON - New + Button Design
       Classic poker dealer button aesthetic
    =================================== */

    .dealer-button {
      position: relative;
      width: 52px;
      height: 52px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      cursor: pointer;
      border: none;
      background: transparent;
      -webkit-tap-highlight-color: transparent;
    }

    .dealer-button-disc {
      position: relative;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;

      /* Classic dealer button - white/cream plastic look */
      background:
        radial-gradient(ellipse 80% 50% at 50% 20%,
          rgba(255, 255, 255, 0.9) 0%,
          transparent 60%
        ),
        linear-gradient(180deg,
          var(--dealer-white) 0%,
          var(--dealer-cream) 50%,
          var(--dealer-shadow) 100%
        );

      border-radius: 50%;

      /* Embossed edge effect */
      box-shadow:
        inset 0 2px 4px rgba(255, 255, 255, 0.8),
        inset 0 -3px 6px rgba(0, 0, 0, 0.15),
        0 4px 12px rgba(0, 0, 0, 0.4),
        0 2px 4px rgba(0, 0, 0, 0.3);

      transition: all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    /* The "DEALER" text ring */
    .dealer-button-disc::before {
      content: '';
      position: absolute;
      inset: 4px;
      border: 2px solid var(--gold);
      border-radius: 50%;
      opacity: 0.6;
    }

    .dealer-button:hover .dealer-button-disc {
      transform: scale(1.08) translateY(-2px);
      box-shadow:
        inset 0 2px 4px rgba(255, 255, 255, 0.9),
        inset 0 -3px 6px rgba(0, 0, 0, 0.1),
        0 8px 20px rgba(0, 0, 0, 0.5),
        0 4px 8px rgba(0, 0, 0, 0.3),
        0 0 20px var(--gold-glow);
    }

    .dealer-button:active .dealer-button-disc {
      transform: scale(0.95);
      transition-duration: 0.1s;
    }

    .dealer-button-icon {
      color: var(--dealer-text);
      font-weight: 700;
      font-size: 24px;
      line-height: 1;
      text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
      transition: transform 0.2s ease;
    }

    .dealer-button:hover .dealer-button-icon {
      transform: rotate(90deg);
    }

    .dealer-button .tooltip {
      position: absolute;
      left: calc(100% + 14px);
      top: 50%;
      transform: translateY(-50%) translateX(-4px);
      padding: 8px 14px;
      background: var(--glass-dark);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 12px;
      font-weight: 500;
      color: var(--foreground);
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
      pointer-events: none;
      z-index: 1000;
      box-shadow: inset 3px 0 0 var(--gold), 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .dealer-button:hover .tooltip {
      opacity: 1;
      visibility: visible;
      transform: translateY(-50%) translateX(0);
    }

    /* ===================================
       ACTIVITY BUTTONS
    =================================== */

    .activities {
      display: flex;
      flex-direction: column;
      gap: 4px;
      flex: 1;
      padding: 0 8px;
      width: 100%;
    }

    .activity-btn {
      --activity-color: var(--workspace-neon);
      position: relative;
      width: 100%;
      height: 56px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      color: var(--foreground-muted);
      transition: all 0.25s ease;
    }

    .activity-btn.workspace { --activity-color: var(--workspace-neon); }
    .activity-btn.studio { --activity-color: var(--studio-neon); }
    .activity-btn.files { --activity-color: var(--files-neon); }

    .activity-btn:hover {
      color: var(--foreground);
      background: color-mix(in srgb, var(--activity-color) 8%, transparent);
    }

    .activity-btn.active {
      color: var(--activity-color);
      background:
        linear-gradient(135deg,
          color-mix(in srgb, var(--activity-color) 15%, transparent) 0%,
          color-mix(in srgb, var(--activity-color) 8%, transparent) 100%
        );
    }

    .activity-btn.active::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 3px;
      height: 28px;
      background: var(--activity-color);
      border-radius: 0 3px 3px 0;
      box-shadow:
        0 0 12px var(--activity-color),
        0 0 24px color-mix(in srgb, var(--activity-color) 60%, transparent),
        4px 0 16px color-mix(in srgb, var(--activity-color) 40%, transparent);
      animation: pulseGlow 2s ease-in-out infinite;
    }

    @keyframes pulseGlow {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    .activity-btn.active::after {
      content: attr(data-suit);
      position: absolute;
      right: 8px;
      top: 8px;
      font-size: 10px;
      color: var(--activity-color);
      opacity: 0.4;
    }

    .activity-btn .icon-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      transition: all 0.25s ease;
    }

    .activity-btn.active .icon-wrapper {
      background: color-mix(in srgb, var(--activity-color) 20%, transparent);
      box-shadow: 0 0 16px color-mix(in srgb, var(--activity-color) 30%, transparent);
    }

    .activity-btn svg {
      width: 22px;
      height: 22px;
      stroke-width: 1.5;
      transition: all 0.2s ease;
    }

    .activity-btn.active svg {
      filter: drop-shadow(0 0 6px var(--activity-color));
    }

    .badge {
      position: absolute;
      top: 6px;
      right: 10px;
      min-width: 18px;
      height: 18px;
      padding: 0 5px;
      background: var(--card-heart);
      border-radius: 9px;
      font-size: 10px;
      font-weight: 600;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 6px rgba(220, 38, 38, 0.4);
    }

    .badge.dot {
      width: 8px;
      height: 8px;
      min-width: 8px;
      padding: 0;
      top: 10px;
      right: 14px;
    }

    .activity-btn .tooltip {
      position: absolute;
      left: calc(100% + 14px);
      top: 50%;
      transform: translateY(-50%) translateX(-4px);
      padding: 8px 14px;
      background: var(--glass-dark);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 12px;
      font-weight: 500;
      color: var(--foreground);
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
      pointer-events: none;
      z-index: 1000;
      box-shadow: inset 3px 0 0 var(--gold), 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .activity-btn:hover .tooltip {
      opacity: 1;
      visibility: visible;
      transform: translateY(-50%) translateX(0);
    }

    /* ===================================
       DIVIDER
    =================================== */

    .rail-divider {
      width: 50px;
      height: 1px;
      margin: 12px 0;
      background: linear-gradient(90deg,
        transparent 0%,
        var(--gold-dim) 20%,
        var(--gold) 50%,
        var(--gold-dim) 80%,
        transparent 100%
      );
      opacity: 0.4;
    }

    /* ===================================
       BOTTOM SECTION
    =================================== */

    .rail-bottom {
      display: flex;
      flex-direction: column;
      gap: 8px;
      padding: 0 8px;
      width: 100%;
    }

    .settings-btn {
      position: relative;
      width: 100%;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      color: var(--foreground-muted);
      transition: all 0.2s ease;
    }

    .settings-btn:hover {
      color: var(--foreground);
      background: color-mix(in srgb, var(--foreground) 8%, transparent);
    }

    .settings-btn.logout:hover {
      color: var(--card-heart);
      background: color-mix(in srgb, var(--card-heart) 10%, transparent);
    }

    .settings-btn svg {
      width: 20px;
      height: 20px;
      stroke-width: 1.5;
    }

    .settings-btn .tooltip {
      position: absolute;
      left: calc(100% + 14px);
      top: 50%;
      transform: translateY(-50%) translateX(-4px);
      padding: 8px 14px;
      background: var(--glass-dark);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 12px;
      font-weight: 500;
      color: var(--foreground);
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
      pointer-events: none;
      z-index: 1000;
      box-shadow: inset 3px 0 0 var(--gold), 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .settings-btn:hover .tooltip {
      opacity: 1;
      visibility: visible;
      transform: translateY(-50%) translateX(0);
    }

    /* ===================================
       CREATE MENU - CARD FAN-OUT ANIMATION
       Cards deal out vertically like from a deck
    =================================== */

    .menu-backdrop {
      position: fixed;
      inset: 0;
      z-index: 100000;
      background: rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(2px);
      opacity: 0;
      animation: fadeIn 0.2s ease forwards;
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    .create-menu {
      position: fixed;
      top: 16px;
      left: 88px;
      display: flex;
      flex-direction: column;
      gap: 0;
      z-index: 100001;
    }

    /* Individual menu card - styled like a playing card */
    .menu-card {
      position: relative;
      display: flex;
      align-items: center;
      gap: 14px;
      width: 220px;
      padding: 14px 18px;
      background:
        linear-gradient(135deg,
          var(--menu-card-bg) 0%,
          oklch(0.12 0.01 260) 100%
        );
      border: 1px solid var(--menu-card-border);
      border-radius: 12px;
      cursor: pointer;
      color: var(--foreground);
      font-size: 14px;
      font-weight: 500;
      text-align: left;

      /* Card shadow */
      box-shadow:
        0 4px 16px rgba(0, 0, 0, 0.3),
        0 2px 4px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);

      /* Initial state - stacked behind dealer button */
      opacity: 0;
      transform: translateX(-60px) translateY(var(--stack-offset, 0px)) rotate(var(--initial-rotation, 0deg)) scale(0.8);
      transform-origin: left center;

      /* Staggered animation */
      animation: dealCard 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      animation-delay: var(--deal-delay, 0s);

      transition:
        background 0.15s ease,
        border-color 0.15s ease,
        box-shadow 0.15s ease,
        transform 0.15s ease;
    }

    /* Card suit watermark */
    .menu-card::before {
      content: attr(data-suit);
      position: absolute;
      top: 6px;
      right: 10px;
      font-size: 12px;
      color: var(--gold);
      opacity: 0.25;
      transition: opacity 0.2s ease;
    }

    .menu-card:hover {
      background: linear-gradient(135deg,
        oklch(0.18 0.015 260) 0%,
        oklch(0.14 0.01 260) 100%
      );
      border-color: var(--gold-dim);
      box-shadow:
        0 8px 24px rgba(0, 0, 0, 0.4),
        0 4px 8px rgba(0, 0, 0, 0.3),
        0 0 20px var(--gold-glow),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
      transform: translateX(8px) scale(1.02);
    }

    .menu-card:hover::before {
      opacity: 0.5;
    }

    .menu-card:active {
      transform: translateX(4px) scale(0.98);
      transition-duration: 0.08s;
    }

    /* Deal animation - cards fly out from dealer button position */
    @keyframes dealCard {
      0% {
        opacity: 0;
        transform: translateX(-60px) translateY(var(--stack-offset, 0px)) rotate(var(--initial-rotation, 0deg)) scale(0.6);
      }
      60% {
        opacity: 1;
        transform: translateX(8px) translateY(0) rotate(var(--fan-rotation, 0deg)) scale(1.02);
      }
      100% {
        opacity: 1;
        transform: translateX(0) translateY(0) rotate(0deg) scale(1);
      }
    }

    /* Each card has different timing and rotation */
    .menu-card:nth-child(1) {
      --deal-delay: 0s;
      --stack-offset: 0px;
      --initial-rotation: -8deg;
      --fan-rotation: 2deg;
    }
    .menu-card:nth-child(2) {
      --deal-delay: 0.05s;
      --stack-offset: 4px;
      --initial-rotation: -5deg;
      --fan-rotation: 1deg;
    }
    .menu-card:nth-child(3) {
      --deal-delay: 0.1s;
      --stack-offset: 8px;
      --initial-rotation: -3deg;
      --fan-rotation: 0deg;
    }
    .menu-card:nth-child(4) {
      --deal-delay: 0.15s;
      --stack-offset: 12px;
      --initial-rotation: 0deg;
      --fan-rotation: -1deg;
    }
    .menu-card:nth-child(5) {
      --deal-delay: 0.2s;
      --stack-offset: 16px;
      --initial-rotation: 3deg;
      --fan-rotation: -2deg;
    }
    .menu-card:nth-child(6) {
      --deal-delay: 0.25s;
      --stack-offset: 20px;
      --initial-rotation: 5deg;
      --fan-rotation: -3deg;
    }
    .menu-card:nth-child(7) {
      --deal-delay: 0.3s;
      --stack-offset: 24px;
      --initial-rotation: 8deg;
      --fan-rotation: -4deg;
    }

    /* Icon styling */
    .menu-card-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      border-radius: 8px;
      background: color-mix(in srgb, var(--gold) 10%, transparent);
      color: var(--gold);
      flex-shrink: 0;
      transition: all 0.2s ease;
    }

    .menu-card:hover .menu-card-icon {
      background: color-mix(in srgb, var(--gold) 20%, transparent);
      box-shadow: 0 0 12px var(--gold-glow);
    }

    .menu-card-icon svg {
      width: 18px;
      height: 18px;
      stroke-width: 1.5;
    }

    .menu-card-content {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .menu-card-label {
      font-weight: 500;
    }

    .menu-card-shortcut {
      font-size: 11px;
      font-family: ui-monospace, 'Monaco', 'Menlo', monospace;
      color: var(--foreground-muted);
      opacity: 0.6;
    }

    /* Divider card */
    .menu-divider {
      width: 200px;
      height: 1px;
      margin: 6px 10px;
      background: linear-gradient(90deg,
        transparent 0%,
        var(--gold-dim) 30%,
        var(--gold-dim) 70%,
        transparent 100%
      );
      opacity: 0;
      animation: fadeInDivider 0.3s ease forwards;
      animation-delay: 0.12s;
    }

    @keyframes fadeInDivider {
      to { opacity: 0.4; }
    }

    /* ===================================
       MAIN CONTENT AREA
    =================================== */

    .main-content {
      flex: 1;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;

      background:
        radial-gradient(
          ellipse 70% 55% at 50% 42%,
          oklch(0.92 0.05 85 / 0.07) 0%,
          oklch(0.92 0.05 85 / 0.025) 35%,
          oklch(0.92 0.05 85 / 0) 65%
        ),
        linear-gradient(180deg, var(--felt) 0%, var(--felt-highlight) 50%, var(--felt) 100%);
    }

    .main-content::before {
      content: '';
      position: absolute;
      inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
      opacity: 0.035;
      pointer-events: none;
      mix-blend-mode: overlay;
    }

    .main-content::after {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse 80% 80% at 50% 50%, transparent 30%, rgba(0, 0, 0, 0.4) 100%);
      pointer-events: none;
    }

    .ornament {
      position: absolute;
      width: 50px;
      height: 50px;
      opacity: 0.15;
      pointer-events: none;
      z-index: 5;
    }

    .ornament::before,
    .ornament::after {
      content: '';
      position: absolute;
      background: var(--gold);
    }

    .ornament.top-left { top: 2.5rem; left: 2.5rem; }
    .ornament.top-left::before { width: 100%; height: 1px; top: 0; }
    .ornament.top-left::after { width: 1px; height: 100%; left: 0; }

    .ornament.top-right { top: 2.5rem; right: 2.5rem; }
    .ornament.top-right::before { width: 100%; height: 1px; top: 0; }
    .ornament.top-right::after { width: 1px; height: 100%; right: 0; }

    .ornament.bottom-left { bottom: 2.5rem; left: 2.5rem; }
    .ornament.bottom-left::before { width: 100%; height: 1px; bottom: 0; }
    .ornament.bottom-left::after { width: 1px; height: 100%; left: 0; }

    .ornament.bottom-right { bottom: 2.5rem; right: 2.5rem; }
    .ornament.bottom-right::before { width: 100%; height: 1px; bottom: 0; }
    .ornament.bottom-right::after { width: 1px; height: 100%; right: 0; }

    .welcome-content {
      position: relative;
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.75rem;
    }

    .title-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
    }

    .title-prefix {
      font-family: var(--font-sans);
      font-size: 0.85rem;
      font-weight: 500;
      letter-spacing: 0.5em;
      color: var(--foreground-muted);
      text-transform: lowercase;
    }

    .title-deck {
      display: flex;
      gap: 0.02em;
      line-height: 1;
    }

    .title-letter {
      font-family: var(--font-display);
      font-size: clamp(3.5rem, 10vw, 6rem);
      font-weight: 700;
      color: var(--foreground);
    }

    .title-letter.gold {
      color: var(--gold);
      text-shadow: 0 0 60px var(--gold-glow-strong), 0 0 120px var(--gold-glow);
    }

    .title-divider {
      width: 140px;
      height: 1px;
      margin-top: 0.5rem;
      background: linear-gradient(90deg, transparent 0%, var(--gold) 50%, transparent 100%);
      opacity: 0.6;
    }

    .welcome-tagline {
      font-family: var(--font-sans);
      font-size: 0.9rem;
      font-weight: 400;
      color: var(--foreground-muted);
      letter-spacing: 0.2em;
      text-transform: uppercase;
    }

    .cards-container {
      display: flex;
      gap: 1.75rem;
      perspective: 1200px;
      margin-top: 0.5rem;
    }

    .welcome-card {
      position: relative;
      width: 150px;
      height: 210px;
      padding: 1.25rem 1rem;
      background: linear-gradient(155deg,
        oklch(0.16 0.01 260) 0%,
        oklch(0.13 0.008 260) 100%
      );
      border: 1px solid var(--border);
      border-radius: 14px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.6rem;
      cursor: pointer;
      transform-style: preserve-3d;
      transition: all 0.25s ease;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .welcome-card:nth-child(1) { transform: rotateZ(-5deg); }
    .welcome-card:nth-child(2) { transform: rotateZ(0deg); }
    .welcome-card:nth-child(3) { transform: rotateZ(5deg); }

    .welcome-card:hover {
      transform: rotateZ(0deg) translateY(-12px) scale(1.04);
      border-color: var(--gold);
      box-shadow:
        0 20px 48px rgba(0, 0, 0, 0.5),
        0 8px 16px rgba(0, 0, 0, 0.4),
        0 0 30px var(--gold-glow),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
      z-index: 10;
    }

    .card-suit {
      position: absolute;
      font-size: 1rem;
      color: var(--gold);
      opacity: 0.4;
      transition: opacity 0.2s ease;
    }

    .card-suit.top-left { top: 0.6rem; left: 0.6rem; }
    .card-suit.bottom-right { bottom: 0.6rem; right: 0.6rem; transform: rotate(180deg); }

    .welcome-card:hover .card-suit { opacity: 0.8; }

    .card-icon {
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.04);
      color: var(--foreground);
      transition: all 0.25s ease;
    }

    .welcome-card:hover .card-icon {
      background: var(--gold-glow);
      color: var(--gold);
      box-shadow: 0 0 24px var(--gold-glow);
    }

    .card-icon svg {
      width: 28px;
      height: 28px;
      stroke-width: 1.5;
    }

    .card-label {
      font-family: var(--font-sans);
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.12em;
      color: var(--foreground);
      text-transform: uppercase;
    }

    .card-description {
      font-size: 0.7rem;
      color: var(--foreground-muted);
      text-align: center;
      line-height: 1.4;
      max-width: 100px;
    }

    .card-shortcut {
      position: absolute;
      bottom: 0.75rem;
      font-family: ui-monospace, 'Monaco', 'Menlo', monospace;
      font-size: 0.6rem;
      padding: 0.2rem 0.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 4px;
      color: var(--foreground-muted);
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .welcome-card:hover .card-shortcut {
      opacity: 1;
    }

    /* ===================================
       DESIGN NOTES
    =================================== */

    .design-notes {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 340px;
      padding: 20px;
      background: var(--glass-dark);
      backdrop-filter: blur(16px);
      border: 1px solid var(--border);
      border-radius: 12px;
      z-index: 1000;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .design-notes h3 {
      font-family: var(--font-display);
      font-size: 14px;
      font-weight: 600;
      color: var(--gold);
      letter-spacing: 0.1em;
      margin-bottom: 12px;
      text-transform: uppercase;
    }

    .design-notes ul {
      list-style: none;
      font-size: 12px;
      line-height: 1.9;
      color: var(--foreground-muted);
    }

    .design-notes li::before {
      content: 'â™¦';
      color: var(--gold);
      margin-right: 8px;
      opacity: 0.6;
    }

    .design-notes .accent {
      color: var(--gold);
    }

    .design-notes .new-tag {
      display: inline-block;
      padding: 2px 6px;
      margin-left: 6px;
      background: var(--card-heart);
      border-radius: 4px;
      font-size: 9px;
      font-weight: 600;
      color: white;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    /* Interaction hint */
    .interaction-hint {
      margin-top: 16px;
      padding: 12px;
      background: color-mix(in srgb, var(--gold) 8%, transparent);
      border: 1px dashed var(--gold-dim);
      border-radius: 8px;
      font-size: 11px;
      color: var(--gold);
      text-align: center;
    }

    /* Hide menu by default - JavaScript controls it */
    .menu-backdrop.hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="app-container">

    <!-- ======== ACTIVITY RAIL ======== -->
    <nav class="activity-rail">

      <!-- NEW: Dealer Button Style -->
      <button class="dealer-button" id="dealerBtn" title="New">
        <div class="dealer-button-disc">
          <span class="dealer-button-icon">+</span>
        </div>
        <span class="tooltip">Deal New Card</span>
      </button>

      <!-- Activity Buttons -->
      <div class="activities">
        <button class="activity-btn workspace active" data-suit="â™ ">
          <div class="icon-wrapper">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
              <line x1="8" y1="21" x2="16" y2="21"></line>
              <line x1="12" y1="17" x2="12" y2="21"></line>
            </svg>
          </div>
          <span class="badge">3</span>
          <span class="tooltip">Workspace</span>
        </button>

        <button class="activity-btn studio" data-suit="â™¥">
          <div class="icon-wrapper">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <circle cx="13.5" cy="6.5" r="2.5"></circle>
              <circle cx="19" cy="11" r="2"></circle>
              <circle cx="6" cy="12" r="3"></circle>
              <circle cx="12" cy="19" r="2"></circle>
              <circle cx="19" cy="19" r="2"></circle>
            </svg>
          </div>
          <span class="badge dot"></span>
          <span class="tooltip">Studio</span>
        </button>

        <button class="activity-btn files" data-suit="â™¦">
          <div class="icon-wrapper">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
            </svg>
          </div>
          <span class="tooltip">Files</span>
        </button>
      </div>

      <div class="rail-divider"></div>

      <div class="rail-bottom">
        <button class="settings-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
          </svg>
          <span class="tooltip">Settings</span>
        </button>

        <button class="settings-btn logout">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
          <span class="tooltip">Logout</span>
        </button>
      </div>
    </nav>

    <!-- ======== CREATE MENU - CARD FAN-OUT ======== -->
    <div class="menu-backdrop hidden" id="menuBackdrop">
      <div class="create-menu" id="createMenu">
        <!-- Cards deal out vertically -->
        <button class="menu-card" data-suit="â™ ">
          <div class="menu-card-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
          </div>
          <div class="menu-card-content">
            <span class="menu-card-label">New Chat</span>
            <span class="menu-card-shortcut">âŒ˜N</span>
          </div>
        </button>

        <button class="menu-card" data-suit="â™¦">
          <div class="menu-card-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <polyline points="4 17 10 11 4 5"></polyline>
              <line x1="12" y1="19" x2="20" y2="19"></line>
            </svg>
          </div>
          <div class="menu-card-content">
            <span class="menu-card-label">Terminal</span>
            <span class="menu-card-shortcut">âŒ˜T</span>
          </div>
        </button>

        <div class="menu-divider"></div>

        <button class="menu-card" data-suit="â™¥">
          <div class="menu-card-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
          </div>
          <div class="menu-card-content">
            <span class="menu-card-label">Profiles</span>
            <span class="menu-card-shortcut">âŒ˜â‡§P</span>
          </div>
        </button>

        <button class="menu-card" data-suit="â™£">
          <div class="menu-card-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <rect x="3" y="3" width="7" height="7"></rect>
              <rect x="14" y="3" width="7" height="7"></rect>
              <rect x="14" y="14" width="7" height="7"></rect>
              <rect x="3" y="14" width="7" height="7"></rect>
            </svg>
          </div>
          <div class="menu-card-content">
            <span class="menu-card-label">Projects</span>
            <span class="menu-card-shortcut">âŒ˜â‡§J</span>
          </div>
        </button>

        <button class="menu-card" data-suit="â™ ">
          <div class="menu-card-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <rect x="3" y="11" width="18" height="10" rx="2"></rect>
              <circle cx="12" cy="5" r="3"></circle>
            </svg>
          </div>
          <div class="menu-card-content">
            <span class="menu-card-label">Subagents</span>
            <span class="menu-card-shortcut">âŒ˜â‡§A</span>
          </div>
        </button>

        <button class="menu-card" data-suit="â™¦">
          <div class="menu-card-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
            </svg>
          </div>
          <div class="menu-card-content">
            <span class="menu-card-label">Settings</span>
            <span class="menu-card-shortcut">âŒ˜,</span>
          </div>
        </button>
      </div>
    </div>

    <!-- ======== MAIN CONTENT ======== -->
    <main class="main-content">
      <div class="ornament top-left"></div>
      <div class="ornament top-right"></div>
      <div class="ornament bottom-left"></div>
      <div class="ornament bottom-right"></div>

      <div class="welcome-content">
        <div class="title-container">
          <span class="title-prefix">ai</span>
          <div class="title-deck">
            <span class="title-letter gold">S</span>
            <span class="title-letter">H</span>
            <span class="title-letter">U</span>
            <span class="title-letter">F</span>
            <span class="title-letter">F</span>
            <span class="title-letter">L</span>
            <span class="title-letter">E</span>
          </div>
          <div class="title-divider"></div>
        </div>

        <p class="welcome-tagline">What's your opening move?</p>

        <div class="cards-container">
          <button class="welcome-card">
            <span class="card-suit top-left">â™ </span>
            <span class="card-suit bottom-right">â™ </span>
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
            </div>
            <span class="card-label">Chat</span>
            <span class="card-description">Start a conversation</span>
            <kbd class="card-shortcut">âŒ˜N</kbd>
          </button>

          <button class="welcome-card">
            <span class="card-suit top-left">â™¥</span>
            <span class="card-suit bottom-right">â™¥</span>
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="11" width="18" height="10" rx="2"></rect>
                <circle cx="12" cy="5" r="3"></circle>
              </svg>
            </div>
            <span class="card-label">Agent</span>
            <span class="card-description">Deploy an AI ally</span>
            <kbd class="card-shortcut">âŒ˜â‡§B</kbd>
          </button>

          <button class="welcome-card">
            <span class="card-suit top-left">â™¦</span>
            <span class="card-suit bottom-right">â™¦</span>
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <polyline points="4 17 10 11 4 5"></polyline>
                <line x1="12" y1="19" x2="20" y2="19"></line>
              </svg>
            </div>
            <span class="card-label">Terminal</span>
            <span class="card-description">Open command line</span>
            <kbd class="card-shortcut">âŒ˜T</kbd>
          </button>
        </div>
      </div>
    </main>
  </div>

  <!-- Design Notes -->
  <div class="design-notes">
    <h3>â™¦ Design Updates v2</h3>
    <ul>
      <li><span class="accent">Dealer Button</span> - Classic poker button style <span class="new-tag">New</span></li>
      <li><span class="accent">Card Fan-Out</span> - Menu items deal like cards <span class="new-tag">New</span></li>
      <li>Staggered deal animation with rotation</li>
      <li>Each card has unique timing & arc</li>
      <li>Suit watermarks on menu cards</li>
      <li>Gold icon containers with hover glow</li>
      <li>Smooth cubic-bezier spring physics</li>
      <li>+ icon rotates 90Â° on hover</li>
    </ul>
    <div class="interaction-hint">
      ðŸ‘† Click the Dealer Button to see the card fan-out animation!
    </div>
  </div>

  <script>
    // Interactive demo - toggle menu on dealer button click
    const dealerBtn = document.getElementById('dealerBtn');
    const menuBackdrop = document.getElementById('menuBackdrop');
    const createMenu = document.getElementById('createMenu');

    let menuOpen = false;

    dealerBtn.addEventListener('click', () => {
      menuOpen = !menuOpen;
      if (menuOpen) {
        menuBackdrop.classList.remove('hidden');
        // Force reflow to restart animations
        createMenu.querySelectorAll('.menu-card').forEach(card => {
          card.style.animation = 'none';
          card.offsetHeight; // Trigger reflow
          card.style.animation = '';
        });
      } else {
        menuBackdrop.classList.add('hidden');
      }
    });

    menuBackdrop.addEventListener('click', (e) => {
      if (e.target === menuBackdrop) {
        menuOpen = false;
        menuBackdrop.classList.add('hidden');
      }
    });

    // Close on Escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && menuOpen) {
        menuOpen = false;
        menuBackdrop.classList.add('hidden');
      }
    });

    // Menu card clicks
    createMenu.querySelectorAll('.menu-card').forEach(card => {
      card.addEventListener('click', () => {
        menuOpen = false;
        menuBackdrop.classList.add('hidden');
      });
    });
  </script>
</body>
</html>